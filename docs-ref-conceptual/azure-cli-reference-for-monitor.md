---
title: Références Azure CLI pour Azure Monitor
description: Page de destination des références Azure CLI pour Azure Monitor
author: dbradish-microsoft
manager: barbkess
ms.devlang: azurecli
ms.topic: reference
ms.date: 06/30/2020
ms.author: dbradish
ms.service: azure-cli
ms.reviewer: robb
ms.custom: devx-track-azurecli
ms.openlocfilehash: 59d1c816c97c8f1463dc2579a2763bc2b073e238
ms.sourcegitcommit: 2da241715d25407ed22c1065c0c793acfd865996
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/09/2020
ms.locfileid: "89562802"
---
# <a name="azure-cli-for-azure-monitor"></a><span data-ttu-id="c3bc4-103">Azure CLI pour Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="c3bc4-103">Azure CLI for Azure Monitor</span></span>

<span data-ttu-id="c3bc4-104">L'interface de ligne de commande Azure ([Azure CLI](/cli/azure/what-is-azure-cli)) est un ensemble de commandes utilisées pour créer et gérer des ressources Azure.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-104">The Azure Command Line Interface ([Azure CLI](/cli/azure/what-is-azure-cli)) is a set of commands used to create and manage Azure resources.</span></span>  <span data-ttu-id="c3bc4-105">Elle est disponible sur de nombreux services Azure, notamment Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-105">It is available across many Azure services including Azure Monitor.</span></span>  <span data-ttu-id="c3bc4-106">Il existe plus de 100 références pour Azure Monitor vous permettant de travailler efficacement avec les services Monitor à partir d’une ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-106">There are over 100 references for Azure Monitor giving you the ability to work effectively with monitor services from a command line.</span></span>

## <a name="references-for-azure-monitor"></a><span data-ttu-id="c3bc4-107">Références pour Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="c3bc4-107">References for Azure Monitor</span></span>

<span data-ttu-id="c3bc4-108">L’expérience CLI d’[Azure Monitor](/azure/azure-monitor/) est composée de deux parties : Azure CLI (communément appelée **noyau** CLI) et l’**extension** Azure Monitor CLI.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-108">The [Azure Monitor](/azure/azure-monitor/) CLI experience is composed of two parts: Azure CLI (commonly referred to as CLI **core**) and the Azure Monitor CLI **extension**.</span></span>  <span data-ttu-id="c3bc4-109">Les références d’extension Azure CLI doivent être installées avant d’être utilisées.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-109">Azure CLI extension references must be installed prior to use.</span></span> <span data-ttu-id="c3bc4-110">La commande [az extension add](/cli/azure/extension?view=azure-cli-latest#az-extension-add) installe une référence d’extension par nom.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-110">The [az extension add](/cli/azure/extension?view=azure-cli-latest#az-extension-add) command installs an extension reference by name.</span></span>

> [!IMPORTANT]
>
> <span data-ttu-id="c3bc4-111">Azure Monitor comprend désormais Application Insights et Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-111">Azure Monitor now includes Application Insights and Log Analytics.</span></span> <span data-ttu-id="c3bc4-112">Vous devez donc installer les extensions pour chaque sous-zone quand vous utilisez l’interface CLI d’Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-112">As such, you must install the extensions for each sub-area when working with Azure Monitor CLI.</span></span>

### <a name="references"></a><span data-ttu-id="c3bc4-113">References</span><span class="sxs-lookup"><span data-stu-id="c3bc4-113">References</span></span>

| <span data-ttu-id="c3bc4-114">Informations de référence</span><span class="sxs-lookup"><span data-stu-id="c3bc4-114">Reference</span></span> | <span data-ttu-id="c3bc4-115">Installer l’extension</span><span class="sxs-lookup"><span data-stu-id="c3bc4-115">Install extension</span></span> | <span data-ttu-id="c3bc4-116">Description</span><span class="sxs-lookup"><span data-stu-id="c3bc4-116">Description</span></span> | <span data-ttu-id="c3bc4-117">Pour plus d’informations, consultez</span><span class="sxs-lookup"><span data-stu-id="c3bc4-117">For more information see</span></span>
|-|-|-|-|
| [<span data-ttu-id="c3bc4-118">az monitor</span><span class="sxs-lookup"><span data-stu-id="c3bc4-118">az monitor</span></span>](/cli/azure/monitor) | | <span data-ttu-id="c3bc4-119">Groupe de commandes de niveau supérieur pour toutes les commandes Azure CLI pour Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-119">The top level command group for all Azure CLI commands for Azure Monitor.</span></span> | [<span data-ttu-id="c3bc4-120">Vue d’ensemble d’Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="c3bc4-120">Azure Monitor overview</span></span>](/azure/azure-monitor/overview)
| [<span data-ttu-id="c3bc4-121">az monitor action-group</span><span class="sxs-lookup"><span data-stu-id="c3bc4-121">az monitor action-group</span></span>](/cli/azure/monitor/action-group) | | <span data-ttu-id="c3bc4-122">Gérer les groupes d’actions, qui sont liés aux notifications après le déclenchement d’une alerte.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-122">Manage action groups, which relate to notifications once an alert has fired.</span></span> | [<span data-ttu-id="c3bc4-123">Alertes Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="c3bc4-123">Azure Monitor alerts</span></span>](/azure/azure-monitor/platform/alerts-overview)
| [<span data-ttu-id="c3bc4-124">az monitor activity-log</span><span class="sxs-lookup"><span data-stu-id="c3bc4-124">az monitor activity-log</span></span>](/cli/azure/monitor/activity-log) | | <span data-ttu-id="c3bc4-125">Gérer le journal d’activité, notamment les alertes du journal d’activité.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-125">Manage activity log including activity log alerts.</span></span> | [<span data-ttu-id="c3bc4-126">Journaux d’activité Azure</span><span class="sxs-lookup"><span data-stu-id="c3bc4-126">Azure activity logs</span></span>](/azure/azure-monitor/platform/activity-log)
| [<span data-ttu-id="c3bc4-127">az monitor alert</span><span class="sxs-lookup"><span data-stu-id="c3bc4-127">az monitor alert</span></span>](/cli/azure/monitor/alert) | | <span data-ttu-id="c3bc4-128">NE PAS L’UTILISER pour les nouveaux développements.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-128">DO NOT USE for new development.</span></span>  <span data-ttu-id="c3bc4-129">Cette commande gère les anciennes règles d’alerte basées sur des métriques classiques, qui à part quelques exceptions, ont été migrées vers les types d’alerte de métriques plus récents.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-129">This command manages older classic metric-based alert rules, which in all but a few cases have been migrated to the newer metric alert types.</span></span> <span data-ttu-id="c3bc4-130">Utilisez [az monitor metrics alert](/cli/azure/monitor/metrics/alert) à la place.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-130">Use [az monitor metrics alert](/cli/azure/monitor/metrics/alert) instead.</span></span> |
| [<span data-ttu-id="c3bc4-131">az monitor app-insights</span><span class="sxs-lookup"><span data-stu-id="c3bc4-131">az monitor app-insights</span></span>](/cli/azure/ext/application-insights/monitor/app-insights) | <span data-ttu-id="c3bc4-132">Oui</span><span class="sxs-lookup"><span data-stu-id="c3bc4-132">yes</span></span> | <span data-ttu-id="c3bc4-133">Gérer Application Insights pour la supervision des applications.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-133">Manage Application Insights for application monitoring.</span></span> | [<span data-ttu-id="c3bc4-134">Vue d’ensemble d’Application Insights</span><span class="sxs-lookup"><span data-stu-id="c3bc4-134">Application insights overview</span></span>](/azure/azure-monitor/app/app-insights-overview)
| [<span data-ttu-id="c3bc4-135">az monitor autoscale</span><span class="sxs-lookup"><span data-stu-id="c3bc4-135">az monitor autoscale</span></span>](/cli/azure/monitor/autoscale) | | <span data-ttu-id="c3bc4-136">Gérer les paramètres de mise à l’échelle automatique.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-136">Manage autoscale settings.</span></span> | [<span data-ttu-id="c3bc4-137">Vue d’ensemble de la mise à l’échelle automatique</span><span class="sxs-lookup"><span data-stu-id="c3bc4-137">Autoscale overview</span></span>](/azure/azure-monitor/platform/autoscale-overview)
| [<span data-ttu-id="c3bc4-138">az monitor diagnostic-settings</span><span class="sxs-lookup"><span data-stu-id="c3bc4-138">az monitor diagnostic-settings</span></span>](/cli/azure/monitor/diagnostic-settings) | | <span data-ttu-id="c3bc4-139">Gérer les paramètres de diagnostic de service, qui configurent la collecte et le routage de nombreux types de métriques et de journaux de plateforme.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-139">Manage service diagnostic settings, which sets up collection and routing of many types of platform metrics and logs.</span></span> | [<span data-ttu-id="c3bc4-140">Créer des paramètres de diagnostic</span><span class="sxs-lookup"><span data-stu-id="c3bc4-140">Create diagnostic settings</span></span>](/azure/azure-monitor/platform/diagnostic-settings)
| [<span data-ttu-id="c3bc4-141">az monitor log-analytics</span><span class="sxs-lookup"><span data-stu-id="c3bc4-141">az monitor log-analytics</span></span>](/cli/azure/monitor/log-analytics) | | <span data-ttu-id="c3bc4-142">Gérer les clusters de journaux et les espaces de travail.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-142">Manage log clusters and work spaces.</span></span> | [<span data-ttu-id="c3bc4-143">Conception de votre déploiement de journaux Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="c3bc4-143">Designing your Azure Monitor Logs deployment</span></span>](/azure/azure-monitor/platform/design-logs-deployment)
| [<span data-ttu-id="c3bc4-144">az monitor log-analytics query</span><span class="sxs-lookup"><span data-stu-id="c3bc4-144">az monitor log-analytics query</span></span>](/cli/azure/ext/log-analytics/monitor/log-analytics#ext-log-analytics-az-monitor-log-analytics-query) | <span data-ttu-id="c3bc4-145">Oui</span><span class="sxs-lookup"><span data-stu-id="c3bc4-145">yes</span></span> | <span data-ttu-id="c3bc4-146">Commandes permettant d’interroger les données dans des espaces de travail Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-146">Commands for querying data in Log Analytics workspaces.</span></span>  | [<span data-ttu-id="c3bc4-147">Bien démarrer avec les requêtes Log Analytics</span><span class="sxs-lookup"><span data-stu-id="c3bc4-147">Get started with Log Analytics queries</span></span>](/azure/azure-monitor/log-query/get-started-portal)
| [<span data-ttu-id="c3bc4-148">az monitor log-profiles</span><span class="sxs-lookup"><span data-stu-id="c3bc4-148">az monitor log-profiles</span></span>](/cli/azure/monitor/log-profiles) | | <span data-ttu-id="c3bc4-149">NE PAS L’UTILISER pour les nouveaux développements.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-149">DO NOT USE for new development.</span></span>  <span data-ttu-id="c3bc4-150">Cette commande était précédemment utilisée pour router les journaux d’activité vers les journaux Azure Monitor et Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-150">This command was previously used to route activity logs to Azure Monitor Logs and Log Analytics.</span></span>  <span data-ttu-id="c3bc4-151">Utilisez les [paramètres de diagnostic](/azure/azure-monitor/platform/diagnostic-settings) à la place.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-151">Use [diagnostic settings](/azure/azure-monitor/platform/diagnostic-settings) instead.</span></span>  | [<span data-ttu-id="c3bc4-152">Envoyer le journal d’activité à un espace de travail Log Analytics</span><span class="sxs-lookup"><span data-stu-id="c3bc4-152">Send the Activity log to a Log Analytics workspace</span></span>](/azure/azure-monitor/platform/activity-log#send-to-log-analytics-workspace)
| [<span data-ttu-id="c3bc4-153">az monitor metrics</span><span class="sxs-lookup"><span data-stu-id="c3bc4-153">az monitor metrics</span></span>](/cli/azure/monitor/metrics) | | <span data-ttu-id="c3bc4-154">Gérer les métriques de plateforme et les règles d’alerte des métriques en quasi-temps réel.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-154">Manage platform metrics and near-realtime metric alert rules.</span></span> | <span data-ttu-id="c3bc4-155">[Vue d’ensemble des mesures dans Azure Monitor](/azure/azure-monitor/platform/data-platform-metrics) et [Comprendre le fonctionnement des alertes de métrique](/azure/azure-monitor/platform/alerts-metric-overview)</span><span class="sxs-lookup"><span data-stu-id="c3bc4-155">[Overview of metrics in Azure Monitor](/azure/azure-monitor/platform/data-platform-metrics) and [Understand how metric alerts work](/azure/azure-monitor/platform/alerts-metric-overview)</span></span>
| [<span data-ttu-id="c3bc4-156">az monitor private-link-scope</span><span class="sxs-lookup"><span data-stu-id="c3bc4-156">az monitor private-link-scope</span></span>](/cli/azure/monitor/private-link-scope) | | <span data-ttu-id="c3bc4-157">Gérer la ressource d’étendue de liaison privée d’Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-157">Manage monitor private link scope resource.</span></span> | [<span data-ttu-id="c3bc4-158">Utiliser Azure Private Link pour connecter en toute sécurité des réseaux à Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="c3bc4-158">Use Azure Private Link to securely connect networks to Azure Monitor</span></span>](/azure/azure-monitor/platform/private-link-security)

### <a name="installing-extension-references"></a><span data-ttu-id="c3bc4-159">Installation des références d’extension</span><span class="sxs-lookup"><span data-stu-id="c3bc4-159">Installing extension references</span></span>

<span data-ttu-id="c3bc4-160">Les références d’extension Azure CLI doivent être installées avant d’être utilisées.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-160">Azure CLI extension references must be installed prior to use.</span></span>  <span data-ttu-id="c3bc4-161">La commande [az extension add](/cli/azure/azure-cli-extensions-overview) installe une référence d’extension par nom.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-161">The [az extension add](/cli/azure/azure-cli-extensions-overview) command installs an extension reference by name.</span></span>

```azurecli
# install the extension for az monitor app-insights
az extension add --name application-insights

# install the extension for az monitor log-analytics
az extension add --name log-analytics
```

## <a name="popular-monitor-articles-using-the-azure-cli"></a><span data-ttu-id="c3bc4-162">Articles Azure Monitor populaires utilisant l’interface Azure CLI</span><span class="sxs-lookup"><span data-stu-id="c3bc4-162">Popular Monitor articles using the Azure CLI</span></span>

- [<span data-ttu-id="c3bc4-163">Exemples d’interface CLI Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="c3bc4-163">Azure Monitor CLI samples</span></span>](/azure/azure-monitor/samples/cli-samples)
- [<span data-ttu-id="c3bc4-164">Créer un espace de travail Log Analytics avec Azure CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="c3bc4-164">Create a Log Analytics workspace with Azure CLI 2.0</span></span>](/azure/azure-monitor/learn/quick-create-workspace-cli)

## <a name="azure-cli-reference-examples"></a><span data-ttu-id="c3bc4-165">Exemples de référence Azure CLI</span><span class="sxs-lookup"><span data-stu-id="c3bc4-165">Azure CLI reference examples</span></span>

<span data-ttu-id="c3bc4-166">Des exemples sont fournis avec chaque référence Azure CLI.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-166">Examples are provided with every Azure CLI reference.</span></span> <span data-ttu-id="c3bc4-167">Vous pouvez également effectuer ces tâches via le portail Azure, mais l'utilisation d'Azure CLI ne nécessite qu'une seule ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-167">Although you can also complete these tasks through the Azure portal, using the Azure CLI requires a single command line.</span></span>  <span data-ttu-id="c3bc4-168">Les exemples de code suivants vous donneront une idée de la facilité d’utilisation d’Azure CLI.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-168">Here are a few code samples to give you an idea of how easy it is to use the Azure CLI.</span></span>

<span data-ttu-id="c3bc4-169">Pour utiliser Azure Monitor, vous devez d’abord disposer d’un groupe de ressources.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-169">To work with Azure Monitor, you'll first need a resource group.</span></span>  <span data-ttu-id="c3bc4-170">Les groupes de ressources Azure sont faciles à créer et à gérer avec Azure CLI.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-170">Azure resource groups are simple to create and manage with the Azure CLI.</span></span>  

```azurecli
#create a resource group
az group create -location westus -name MyResourceGroup

#get a list of resource groups for a subscription
az group list --subscription MySubscription --output table
```

<span data-ttu-id="c3bc4-171">La création d’une alerte de journal Azure Monitor est tout aussi simple.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-171">Creating an Azure Monitor log alert is just as straightforward.</span></span>

```azurecli
#create an Azure Monitor activity log alert
az monitor activity-log alert create --name MyAlertName --resource-group MyResourceGroup
```

## <a name="see-also"></a><span data-ttu-id="c3bc4-172">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="c3bc4-172">See also</span></span>

- <span data-ttu-id="c3bc4-173">[Prise en main d'Azure CLI](/cli/azure/get-started-with-azure-cli) pour en savoir plus sur l'installation et la connexion.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-173">[Get started with Azure CLI](/cli/azure/get-started-with-azure-cli) to learn about installation and sign in.</span></span>

- <span data-ttu-id="c3bc4-174">Découvrez des références [publiées](/cli/azure/reference-index) et [d’extension](/cli/azure/azure-cli-extensions-list) supplémentaires dans la documentation Azure CLI.</span><span class="sxs-lookup"><span data-stu-id="c3bc4-174">Discover additional [released](/cli/azure/reference-index) and [extension](/cli/azure/azure-cli-extensions-list) references in the Azure CLI documentation.</span></span>

- <span data-ttu-id="c3bc4-175">Découvrez-en plus sur les références des extensions dans [Utiliser des extensions avec Azure CLI](/cli/azure/azure-cli-extensions-overview).</span><span class="sxs-lookup"><span data-stu-id="c3bc4-175">Learn more about extension references in [Use extensions with Azure CLI](/cli/azure/azure-cli-extensions-overview).</span></span>
